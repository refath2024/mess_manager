<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Billing</title>
    <link rel="stylesheet" href="billing.css">
</head>
<body>
    <header>
        <img src="vecteezy_user-icon-on-transparent-background_19879186.png" alt="Left Logo" class="left-logo" id="left-logo"> <!-- Left logo -->
    
        <img src="MIST Logo.png" alt="Logo" class="logo"> <!-- Main logo -->
        <h1>Smart Mess</h1>
        <div class="user-info">
            <span id="user-name">Loading...</span> <!-- User name will appear here -->
        </div>
        <!-- Dropdown Menu -->
        <div class="dropdown-menu" id="dropdown-menu">
            <ul>
                <li><a href="officers_portal.html" id="logout">Logout</a></li>
            </ul>
        </div>
    </header>
    <nav>
        <a href="userhome.html">Home</a>
        <a href="meal.html">Meal IN/OUT</a>
        <a href="messing.html">Messing</a>
        <a href="menuset3.html">Menu-set</a>
        <a href="billing.html" id="billing-link" class="active">Billing</a> <!-- Added active class here -->
        <a href="notifi.html">Notification</a>
    </nav>

    <main>
        <div id="billing-page" class="billing-page">
            <h2 class="select-payment">Select Payment Method</h2> <!-- Add the class here -->
            <div class="payment-options">
                <div class="payment-option" id="bkash">
                    <h3>bKash</h3>
                    <p>Make payment through bKash</p>
                </div>
                <div class="payment-option" id="nagad">
                    <h3>Nagad</h3>
                    <p>Make payment through Nagad</p>
                </div>
                <div class="payment-option" id="tapPay">
                    <h3>Tap Pay</h3>
                    <p>Make payment through Tap Pay</p>
                </div>
                <div class="payment-option" id="cardsMFS">
                    <h3>Cards and MFS</h3>
                    <p>Make payment through Cards and other Mobile Financial Services</p>
                </div>
            </div>
        </div>
        
    </main>

    <footer>
        <p>Developed by Brocoder</p>
    </footer>

    <script src="billing.js"></script>
    <script>
        
        document.addEventListener('DOMContentLoaded', function() {
            // Check if the user is logged in
            if (!localStorage.getItem('isLoggedIn')) {
                window.location.href = 'officers_portal.html'; // Redirect to login page if not logged in
            }

            // Fetch the user's name from localStorage and display it beside the icon
            const userName = localStorage.getItem('userName') || "Loading..."; // Default to "Loading..." if not found
            document.getElementById('user-name').textContent = userName;

            const leftLogo = document.getElementById('left-logo');
            const dropdownMenu = document.getElementById('dropdown-menu');

            // Toggle the dropdown menu when the left logo is clicked
            leftLogo.addEventListener('click', function(event) {
                event.stopPropagation(); // Prevent the click event from bubbling up to the document
                dropdownMenu.style.display = (dropdownMenu.style.display === 'block') ? 'none' : 'block';
            });

            // Close the dropdown menu if clicked outside
            window.addEventListener('click', function(event) {
                if (!leftLogo.contains(event.target) && !dropdownMenu.contains(event.target)) {
                    dropdownMenu.style.display = 'none';
                }
            });

            // Logout action
            document.getElementById('logout').addEventListener('click', function() {
                // Clear session storage (or localStorage) when logging out
                localStorage.removeItem('isLoggedIn');
                localStorage.removeItem('userName');
                alert('Logged out');
                window.location.href = 'officers_portal.html'; // Redirect to login page after logout
            });
        });
    </script>

</body>
</html>
